# Get chat messages

Source: https://platform.openai.com/docs/api-reference/chat/getMessages

`GET /v1/chat/completions/{completion_id}/messages`

Get the messages in a stored chat completion. Only Chat Completions that
have been created with the `store` parameter set to `true` will be
returned.

## Parameters
- `completion_id` (path, string, required): The ID of the chat completion to retrieve messages from.
- `after` (query, string, optional): Identifier for the last message from the previous pagination request.
- `limit` (query, integer, optional): Number of messages to retrieve. Default: `20`.
- `order` (query, string, optional): Sort order for messages by timestamp. Use `asc` for ascending order or `desc` for descending order. Defaults to `asc`. Enum: 'asc', 'desc'. Default: `asc`.

## Responses
### 200
A list of messages
#### application/json
- `object` (string, required): The type of this object. It is always set to "list". Enum: 'list'. Default: `list`.
- `data` (array<object>, required): An array of chat completion message objects.
  - Items:
    - `content` (string | null, required)
    - `refusal` (string | null, required)
    - `tool_calls` (array<object>, optional): The tool calls generated by the model, such as function calls.
    - `annotations` (array<object>, optional): Annotations for the message, when applicable, as when using the
      [web search tool](https://platform.openai.com/docs/guides/tools-web-search?api-mode=chat).
      - Items:
        - `type` (string, required): The type of the URL citation. Always `url_citation`. Enum: 'url_citation'.
        - `url_citation` (object, required): A URL citation when using web search.
          - ...
    - `role` (string, required): The role of the author of this message. Enum: 'assistant'.
    - `function_call` (object, optional): Deprecated and replaced by `tool_calls`. The name and arguments of a function that should be called, as generated by the model. Deprecated.
      - `arguments` (string, required): The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function.
      - `name` (string, required): The name of the function to call.
    - `audio` (object | null, optional)
      - Variant (object):
        - `id` (string, required): Unique identifier for this audio response.
        - `expires_at` (integer, required): The Unix timestamp (in seconds) for when this audio response will
          no longer be accessible on the server for use in multi-turn
          conversations.
        - `data` (string, required): Base64 encoded audio bytes generated by the model, in the format
          specified in the request.
        - `transcript` (string, required): Transcript of the audio generated by the model.
    - `id` (string, required): The identifier of the chat message.
    - `content_parts` (array<object> | null, optional)
- `first_id` (string, required): The identifier of the first chat message in the data array.
- `last_id` (string, required): The identifier of the last chat message in the data array.
- `has_more` (boolean, required): Indicates whether there are more chat messages available.

## Returns
A list of [messages](message-list.md) for the specified chat completion.

## Examples
### Example
#### Request (curl)
```bash
curl https://api.openai.com/v1/chat/completions/chat_abc123/messages \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: application/json"
```
#### Request (python)
```python
from openai import OpenAI
client = OpenAI()

completions = client.chat.completions.list()
first_id = completions[0].id
first_completion = client.chat.completions.retrieve(completion_id=first_id)
messages = client.chat.completions.messages.list(completion_id=first_id)
print(messages)
```
#### Response
```json
{
  "object": "list",
  "data": [
    {
      "id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
      "role": "user",
      "content": "write a haiku about ai",
      "name": null,
      "content_parts": null
    }
  ],
  "first_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "last_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "has_more": false
}
```
